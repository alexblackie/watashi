<!doctype html>
<html lang="en-CA">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>Fixing PHP mail() on Ubuntu &mdash; Alex Blackie</title>
<link rel="stylesheet" href="/_/site.css" type="text/css">
<link rel="stylesheet" href="/_/code.css" type="text/css">
<link rel="alternate" type="application/rss+xml" title="Alex Blackie's Blog" href="/feed.xml">





<script async defer data-domain="alexblackie.com" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
<div class="siteMain">
<header class="siteHeader">
<h1>
<a class="siteHeader--brandLink" href="/">
<img src="/_/avi.jpg" alt="Avatar of Alex Blackie." width="46" height="46"><br>
<span>
Alex Blackie<br>
<em>The Internet Sensation&trade;</em>
</span>
</a>
</h1>

<input id="mobileHeaderToggle" type="checkbox" role="button" title="Toggle Menu">
<label id="mobileHeaderToggleIcon" for="mobileHeaderToggle"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></label>

<div class="mobileCollapsed">
<nav class="siteMenu">
<a class="active" href="/articles"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-book"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> Articles</a>
<a class="" href="/setup/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-monitor"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg> My Setup</a>
<a class="" href="/about/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> About Me</a>
</nav>
</div>
</header>

<div class="siteContent">
<div class="articleOldWarning withAside">
<aside>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
</aside>
<p class="besideAside">
<strong>This article is over two years old.</strong> Life moves
quickly, and thus there is a good chance any references,
recommendations, or opinions in this content are out of date. Make sure
to verify any information independently.
</p>
</div>
<article class="singleArticle">
<header class="singleArticle--header">
<h1>Fixing PHP mail() on Ubuntu</h1>
<div class="singleArticle--header--meta">Published April 8 2011 </div>
</header>



<div class="singleArticle--body">
			<p>I&#8217;m still settling into the new <a href="http://web.archive.org/web/20110508180637/http://rackspacecloud.com/">Rackspace Cloud Server</a>, and I just solved a problem I was trying to fix for the last two days. And all I had to do was change three characters in an <code>.ini</code> file.</p>

<p>On my server I&#8217;m running Ubuntu 10.04 Lucid LTS. I had everything working &#8211; MySQL, PHP, Apache&#8230; The only thing that wasn&#8217;t working properly was <code>sendmail</code>. It would send, but after it hung for a minute and 25 seconds (I timed it). This was bad &#8211; to comment in WordPress, the person would have to wait for a minute-and-a-half after they click &#8220;submit&#8221; before it would finally go.</p>

<p>It took me two solid days of searching through forum threads and blog posts before I finally found the answer. I probably lost a bit of hair as well.</p>

<p>In the end, the fix was as simple as removing the <code>-i</code> at the end of the <code>sendmail_path</code> variable in my <code>php.ini</code>.</p>

<h3>How To Do That</h3>

<p>First, find your PHP.ini file&#8217;s location. For me it&#8217;s under <code>/etc/php5/apache2/php.ini</code>. You can find this by using the <code>phpinfo()</code> function.</p>

<p>I use <code>nano</code>, but you could use VIM or another editor of your choosing. I simply opened my <code>PHP.ini</code> file, and found the <code>sendmail_path</code> line (which, for me, is on line 1047). Just search for a line that starts with <code>sendmail_path</code>.</p>

<p>Then, change the line so it says: <code>sendmail_path = /usr/sbin/sendmail -t</code>.</p>
</div>
</article>
</div>
</div>

<footer	class="siteFooter mobileCollapsed">
<p>
&copy; 2013-2020 Alex Blackie. Some Rights Reserved.
</p>
<p>
This site is <a class="withIcon" href="https://github.com/alexblackie/watashi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> open source</a>. Icons are from the wonderful <a href="https://feathericons.com">Feather Icons</a>.<br>
Powered by make, bash, Kubernetes, and significant quantities of coffee.
</p>
</footer>
</body>
</html>

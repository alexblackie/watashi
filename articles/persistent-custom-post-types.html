title: "Persistent WordPress Custom Post Types"
slug: persistent-custom-post-types
publish_date: "2011-03-06"
---
<p>I recently changed the way I create custom post types in WordPress. Usually, you create all the declarations in the <code>functions.php</code> file, but if you change your theme, you lose the custom post type (the content is still there, just not the custom post type). Here&#8217;s how to make your custom post types persistent.</p>

<p>The way I have it now, is I have everything in a custom plugin. Nothing fancy, just a super-basic plugin. The code is exactly the same as in <code>functions.php</code>, but now it&#8217;s in a plugin, so if I change my theme, it keeps all the custom post types.</p>

<p>Here&#8217;s how to do just that.</p>

<h3>Set up the Plugin</h3>

<p>Make a PHP file and name it something unique, like &#8220;<code>mysitename-cpt.php</code>&#8220;. At the very top of the file, put some basic meta information:</p>

<pre>
/*
	Plugin Name: MYSITE's Custom Post Types
	Description: The custom post type declarations for my site.
	Version: 1.0
	Author: YOUR NAME
	Author URI: YOUR WEBSITE
	License: GPL2
*/
</pre>

<p>Underneath that, simply copy &amp; paste the custom post type and custom post taxonomies from your <code>functions.php</code> file into this plugin. Make sure you transfer the <code>add_action()</code> calls for your custom post types/taxonomies as well.</p>

<p>Then remove all the custom post type stuff from your <code>functions.php</code> file, and make sure you upload and activate your new custom plugin. You&#8217;re done!</p>
